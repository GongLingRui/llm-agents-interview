<img width="623" height="309" alt="image" src="https://github.com/user-attachments/assets/4e81ac42-0429-483e-bb94-b13d24f7eab6" />


# AI评测（Evals）第四期

improve：优化准确性和成本

evals飞轮

analyze-》measure-〉imporve

本期的两大目标：

1.优化准确性

2.削减成本

### 模块一：准确性优化（Accuracy）

#### 1. 快速胜利（Quick Wins）
- 提示词精炼：明确定义“规约”，如“亚太区”的具体范围。
- 针对性 Few-shot：加入“黄金”示例，修正“上个月”等常见错误。
- 基于角色的指导：“你是一个严谨的税务顾问...”


#### 2. 结构性改动（Structural）
- 任务分解：拒绝“超级Prompt”，拆分为“意图→工具→总结”三步。
- 调优 RAG 组件：检查“检索”质量（文档是否相关？太多或太少？）
- 修复工具滥用：优化“工具描述”，清晰说明参数格式和含义。


#### 3. 高级策略（Advanced）
- 微调（Fine-Tuning）：积累上千案例后，将“好行为”“烙印”进模型。
- 人工审核循环：金融、医疗等高风险领域必须的兜底。


### 模块二：成本削减（Cost）

#### 1. 简单策略（Simple）
- 分层模型 (Tiered)：简单任务（如意图识别）用便宜模型 (Flash)，复杂任务（如生成SQL）用昂贵模型 (GPT-4o)。
- 减少 Token：总结输入（如100页PDF→1页摘要），压缩输出（要求YAML或简洁回复）。


#### 2. KV 缓存 (KV Caching)
- 不友好：[动态] → [静态指令]
- 友好：[静态指令] → [动态]


#### 3. (进阶) 模型级联
- 核心：用“置信度”作为阀门。
- 工作流：
  1. 请求 → 代理模型 (Flash)
  2. 输出 (答案 + 置信度分数)
  3. 判断：
     - < 99% → “升级” → 预言机 (4o)
     - > 99% → 直接返回
- 如何测量：使用 Logprobs（对数概率）。

### 全系列总结：Evals 评估飞轮
- **1. Analyze（分析）**
  通过“开放编码”(Open Coding) 和 Trace 分析，找到“第一个上游错误”。
- **2. Measure（测量）**
  通过“LLM判官”和“数据划分”，构建可信赖的自动化工程指标。
- **3. Improve（改进）**
  利用指标，从“猜谜”走向“系统工程”，优化准确性与成本。
